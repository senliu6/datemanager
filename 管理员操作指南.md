# æ•°æ®ç®¡ç†å¹³å° - ç®¡ç†å‘˜æ“ä½œæŒ‡å—ï¼ˆç®€åŒ–ç‰ˆï¼‰

## ðŸš€ å¿«é€Ÿéƒ¨ç½²ï¼ˆæœ¬åœ°å±€åŸŸç½‘ï¼‰

### 1. çŽ¯å¢ƒå‡†å¤‡
```bash
# ç¡®ä¿å·²å®‰è£…Node.js (ç‰ˆæœ¬ >= 16)
node --version

# å¦‚æžœæœªå®‰è£…ï¼Œè¯·ä¸‹è½½å®‰è£…ï¼š
# https://nodejs.org/
```

### 2. ä¸€é”®å¯åŠ¨
```bash
# å…‹éš†æˆ–ä¸‹è½½é¡¹ç›®åˆ°æœ¬åœ°
# è¿›å…¥é¡¹ç›®ç›®å½•

# å®‰è£…ä¾èµ–ï¼ˆé¦–æ¬¡è¿è¡Œï¼‰
npm install

# å¯åŠ¨æœåŠ¡å™¨
./start_local_server.sh
# æˆ–è€…
chmod +x start_local_server.sh && ./start_local_server.sh
```

### 3. è®¿é—®æœåŠ¡
- **æœ¬æœºè®¿é—®**: http://localhost:3001
- **å±€åŸŸç½‘è®¿é—®**: http://ä½ çš„IP:3001
- **é»˜è®¤ç™»å½•**: ç”¨æˆ·å `upload`ï¼Œå¯†ç  `upload123`

## ðŸ“ ç›®å½•ç»“æž„
```
datemanager/
â”œâ”€â”€ server/                 # åŽç«¯æœåŠ¡
â”œâ”€â”€ src/                   # å‰ç«¯æºç 
â”œâ”€â”€ Uploads/               # æ–‡ä»¶ä¸Šä¼ ç›®å½•ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
â”œâ”€â”€ one_click_upload.sh    # Linux/Macä¸Šä¼ è„šæœ¬
â”œâ”€â”€ one_click_upload.bat   # Windowsä¸Šä¼ è„šæœ¬
â”œâ”€â”€ start_local_server.sh  # æœåŠ¡å™¨å¯åŠ¨è„šæœ¬
â””â”€â”€ ç”¨æˆ·ä½¿ç”¨è¯´æ˜Ž.md        # ç”¨æˆ·ä½¿ç”¨è¯´æ˜Ž
```

## ðŸ”§ é…ç½®è¯´æ˜Ž

### ç®€åŒ–è®¤è¯é…ç½®
ç³»ç»Ÿæ”¯æŒå¤šç§è®¤è¯æ–¹å¼ï¼š
1. **Webç•Œé¢ç™»å½•**: ç”¨æˆ·å `upload`ï¼Œå¯†ç  `upload123`
2. **è„šæœ¬ä¸Šä¼ **: è‡ªåŠ¨ä½¿ç”¨å†…ç½®è®¤è¯
3. **å¼€å‘æ¨¡å¼**: æœ¬åœ°è®¿é—®å…è®¤è¯

### çŽ¯å¢ƒé…ç½®æ–‡ä»¶ (.env.local)
```bash
NODE_ENV=development
PORT=3001
HOST=0.0.0.0

# ç®€åŒ–è®¤è¯
SIMPLE_AUTH_ENABLED=true
UPLOAD_USER=upload
UPLOAD_PASS=upload123

# æ–‡ä»¶ä¸Šä¼ é…ç½®
MAX_FILE_SIZE=2GB
```

## ðŸ‘¥ ç”¨æˆ·ç®¡ç†

### é»˜è®¤ç”¨æˆ·
- **ä¸Šä¼ ç”¨æˆ·**: `upload` / `upload123`
  - æƒé™: æ–‡ä»¶ä¸Šä¼ ã€æ•°æ®æŸ¥çœ‹
  - ç”¨é€”: æ™®é€šç”¨æˆ·ä¸Šä¼ æ–‡ä»¶

### æ·»åŠ æ–°ç”¨æˆ·ï¼ˆå¯é€‰ï¼‰
å¦‚éœ€æ·»åŠ æ›´å¤šç”¨æˆ·ï¼Œå¯ä»¥ä¿®æ”¹è®¤è¯ä¸­é—´ä»¶æˆ–ä½¿ç”¨Webç•Œé¢ç®¡ç†ã€‚

## ðŸ“Š æ–‡ä»¶ç®¡ç†

### ä¸Šä¼ ç›®å½•
- **é»˜è®¤è·¯å¾„**: `./Uploads/`
- **è‡ªåŠ¨åˆ†ç±»**: æŒ‰ä¸Šä¼ æ—¶é—´å’Œç”¨æˆ·åˆ†ç±»
- **æ–‡ä»¶å¤§å°**: æœ€å¤§2GB

### æ–‡ä»¶æ¸…ç†
```bash
# æ¸…ç†ä¸´æ—¶æ–‡ä»¶
find ./Uploads -name "*.tmp" -delete

# æŸ¥çœ‹ç£ç›˜ä½¿ç”¨
du -sh ./Uploads
```

## ðŸ” ç›‘æŽ§å’Œæ—¥å¿—

### æŸ¥çœ‹æ—¥å¿—
```bash
# æœåŠ¡å™¨æ—¥å¿—
tail -f server.log

# ä¸Šä¼ æ—¥å¿—ï¼ˆç”¨æˆ·ç«¯ï¼‰
cat upload.log
```

### ç³»ç»ŸçŠ¶æ€
- **å¥åº·æ£€æŸ¥**: http://localhost:3001/api/health
- **æ–‡ä»¶ç»Ÿè®¡**: é€šè¿‡Webç•Œé¢æŸ¥çœ‹

## ðŸ› ï¸ æ•…éšœæŽ’é™¤

### å¸¸è§é—®é¢˜

#### 1. ç«¯å£è¢«å ç”¨
```bash
# æŸ¥çœ‹ç«¯å£å ç”¨
lsof -i :3001

# æ€æ­»å ç”¨è¿›ç¨‹
kill -9 PID
```

#### 2. æƒé™é—®é¢˜
```bash
# ç»™è„šæœ¬æ‰§è¡Œæƒé™
chmod +x *.sh

# ä¿®æ”¹ä¸Šä¼ ç›®å½•æƒé™
chmod 755 Uploads/
```

#### 3. ç½‘ç»œè®¿é—®é—®é¢˜
```bash
# æ£€æŸ¥é˜²ç«å¢™
sudo ufw status

# å¼€æ”¾ç«¯å£ï¼ˆå¦‚éœ€è¦ï¼‰
sudo ufw allow 3001/tcp
```

#### 4. æ‰¾ä¸åˆ°æœåŠ¡å™¨
- ç¡®è®¤æœåŠ¡å™¨å·²å¯åŠ¨
- æ£€æŸ¥IPåœ°å€æ˜¯å¦æ­£ç¡®
- ç¡®ä¿åœ¨åŒä¸€å±€åŸŸç½‘å†…

### é‡å¯æœåŠ¡
```bash
# åœæ­¢æœåŠ¡ï¼ˆCtrl+Cï¼‰
# é‡æ–°å¯åŠ¨
./start_local_server.sh
```

## ðŸ“± å®¢æˆ·ç«¯é…ç½®

### åˆ†å‘ä¸Šä¼ è„šæœ¬
1. å°† `one_click_upload.sh`ï¼ˆLinux/Macï¼‰æˆ– `one_click_upload.bat`ï¼ˆWindowsï¼‰åˆ†å‘ç»™ç”¨æˆ·
2. å‘ŠçŸ¥ç”¨æˆ·å°†è„šæœ¬æ”¾åœ¨è¦ä¸Šä¼ çš„æ–‡ä»¶å¤¹ä¸­
3. ç”¨æˆ·åŒå‡»è¿è¡Œå³å¯

### ç”¨æˆ·æŒ‡å¯¼
- æä¾›ã€Šç”¨æˆ·ä½¿ç”¨è¯´æ˜Ž.mdã€‹ç»™ç”¨æˆ·
- å‘ŠçŸ¥æœåŠ¡å™¨IPåœ°å€
- ç¡®ä¿ç”¨æˆ·åœ¨åŒä¸€å±€åŸŸç½‘å†…

## ðŸ”’ å®‰å…¨å»ºè®®

### å±€åŸŸç½‘ä½¿ç”¨
- ä»…åœ¨å¯ä¿¡çš„å±€åŸŸç½‘çŽ¯å¢ƒä¸­ä½¿ç”¨
- å®šæœŸæ›´æ”¹é»˜è®¤å¯†ç 
- ç›‘æŽ§ä¸Šä¼ æ–‡ä»¶å†…å®¹

### ç”Ÿäº§çŽ¯å¢ƒéƒ¨ç½²
å¦‚éœ€éƒ¨ç½²åˆ°ç”Ÿäº§çŽ¯å¢ƒï¼Œå»ºè®®ï¼š
- ä½¿ç”¨HTTPS
- é…ç½®æ›´å¼ºçš„è®¤è¯æœºåˆ¶
- è®¾ç½®é˜²ç«å¢™è§„åˆ™
- å®šæœŸå¤‡ä»½æ•°æ®

## ðŸ“‹ ç»´æŠ¤æ¸…å•

### æ—¥å¸¸ç»´æŠ¤
- [ ] æ£€æŸ¥æœåŠ¡å™¨è¿è¡ŒçŠ¶æ€
- [ ] æŸ¥çœ‹ç£ç›˜ç©ºé—´ä½¿ç”¨
- [ ] æ¸…ç†ä¸´æ—¶æ–‡ä»¶
- [ ] æ£€æŸ¥ä¸Šä¼ æ—¥å¿—

### å®šæœŸç»´æŠ¤
- [ ] å¤‡ä»½é‡è¦æ–‡ä»¶
- [ ] æ›´æ–°ç³»ç»Ÿä¾èµ–
- [ ] æ£€æŸ¥å®‰å…¨è®¾ç½®
- [ ] ä¼˜åŒ–æ€§èƒ½é…ç½®

## ðŸ’¡ ä½¿ç”¨æŠ€å·§

### 1. æ‰¹é‡éƒ¨ç½²
å¯ä»¥å°†æ•´ä¸ªé¡¹ç›®æ‰“åŒ…ï¼Œåœ¨å¤šå°æœºå™¨ä¸Šå¿«é€Ÿéƒ¨ç½²ã€‚

### 2. è‡ªå®šä¹‰é…ç½®
ä¿®æ”¹ `.env.local` æ–‡ä»¶å¯ä»¥è‡ªå®šä¹‰ç«¯å£ã€è®¤è¯ä¿¡æ¯ç­‰ã€‚

### 3. è„šæœ¬å®šåˆ¶
å¯ä»¥ä¿®æ”¹ä¸Šä¼ è„šæœ¬ï¼Œæ·»åŠ è‡ªå®šä¹‰çš„æ–‡ä»¶è¿‡æ»¤è§„åˆ™ã€‚

### 4. å¿«é€Ÿæµ‹è¯•
```bash
# æµ‹è¯•æœåŠ¡å™¨å¥åº·çŠ¶æ€
curl http://localhost:3001/api/health

# æµ‹è¯•ä¸Šä¼ åŠŸèƒ½
curl -X POST \
  -H "X-Simple-Auth: $(echo -n 'upload:upload123' | base64)" \
  -F "file=@test.txt" \
  http://localhost:3001/api/upload
```

## ðŸ“¦ ç”¨æˆ·åˆ†å‘åŒ…

åˆ›å»ºç”¨æˆ·åˆ†å‘åŒ…ï¼š
```bash
# åˆ›å»ºåˆ†å‘ç›®å½•
mkdir user_package

# å¤åˆ¶å¿…è¦æ–‡ä»¶
cp one_click_upload.sh user_package/
cp one_click_upload.bat user_package/
cp ç”¨æˆ·ä½¿ç”¨è¯´æ˜Ž.md user_package/

# åˆ›å»ºå¿«é€Ÿè¯´æ˜Ž
cat > user_package/README.txt << 'EOF'
æ•°æ®ç®¡ç†å¹³å° - ä¸€é”®ä¸Šä¼ å·¥å…·

ä½¿ç”¨æ–¹æ³•ï¼š
1. å°†ä¸Šä¼ è„šæœ¬æ”¾åœ¨è¦ä¸Šä¼ çš„æ–‡ä»¶å¤¹ä¸­
2. åŒå‡»è¿è¡Œè„šæœ¬
3. æŒ‰æç¤ºæ“ä½œå³å¯

Linux/Macç”¨æˆ·: ä½¿ç”¨ one_click_upload.sh
Windowsç”¨æˆ·: ä½¿ç”¨ one_click_upload.bat

è¯¦ç»†è¯´æ˜Žè¯·æŸ¥çœ‹ï¼šç”¨æˆ·ä½¿ç”¨è¯´æ˜Ž.md
EOF

# æ‰“åŒ…åˆ†å‘
tar -czf user_upload_tools.tar.gz user_package/
```

---

**ðŸŽ‰ ç®€åŒ–é…ç½®ï¼Œä¸€é”®å¯åŠ¨ï¼Œè½»æ¾ç®¡ç†ï¼æ— éœ€SSHå¯†é’¥ï¼Œæ— éœ€å¤æ‚é…ç½®ï¼**